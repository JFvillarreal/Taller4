<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>compra</title>
    <link rel="stylesheet" href="./comprar.css">
</head>
<body>
<h1></h1>
<form class="loginbox">
    <div>
        <label> titulo </label>
        <input class="boton1" type="text"  placeholder="titulo" name="piece" id="pieza">

    </div>
    <div>
        <label>  ID </label>
        <input class="boton1" type="text"  placeholder="ID" name="usuario" id="vendedor">

    </div>
    <div ><a class="botones"  href="./confirmacion.html"   > comprar</a>
    </div>

</form>
<script>
    var formulario = document.getElementById("formulario");
    addEventListener("submit",function (e){
        e.preventDefault();
        console.log("esta es la pieza "+document.getElementById("pieza").value);
        console.log("este es el vendedor "+document.getElementById("vendedor").value);
        console.log("este es el email "+localStorage.getItem("comprador"));

        var data= {
            "pieza": document.getElementById("pieza").value,
            "comprador": localStorage.getItem("comprador"),
            "vendedor":document.getElementById("vendedor").value,


        };
        const myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Access-Control-Allow-Origin", "*");
        fetch("./api/comprar",{method: "POST",
            body: JSON.stringify(data),
            headers: myHeaders
        }).then(res =>
            res.json())
            .then(dato => {
                    console.log(dato[""])

                }
            )
    })
</script>
</body>
</html>